swagger: "2.0"
info:
  description: "Document Management System"
  version: "1.0.0"
  title: "APIs for the Document Management System"
host: "localhost:8080"
basePath: "/dms"
tags:
- name: "DMS"
  description: "Document Management System API"
schemes:
  - "http" 
consumes:
  - "application/json"
produces:
  - "application/json"
paths:
  /login:
    post:
      tags:
      - "DMS"
      summary: "Login"
      description: "Login"
      operationId: "Login"
      produces:
      - "application/json"
      parameters:
        - in: "body"
          name: "body"
          description: "Login"
          required: true
          schema:
            $ref: "#/definitions/LoginRequest"
      responses:
        "200":
          description: "Success"
          schema: 
            $ref: "#/definitions/LoginResponse"
  /folder:
    post:
      tags:
      - "DMS"
      summary: "Create folder"
      description: "Create folder"
      operationId: "CreateFolder"
      produces:
      - "application/json"
      parameters:
        - in: "header"
          name: access-token
          required: true
          type: string
        - in: "body"
          name: "body"
          description: "Create folder"
          required: true
          schema:
            $ref: "#/definitions/CreateFolderParams"
      responses:
        "200":
          description: "Success"
          schema: 
            $ref: "#/definitions/CreateResponse"
  /file:
    post:
      tags:
      - "DMS"
      summary: "Create file"
      description: "Create file"
      operationId: "CreateFile"
      produces:
      - "application/json"
      parameters:
        - name: access-token
          in: header
          required: true
          type: string
        - in: "body"
          name: "body"
          description: "Create file"
          required: true
          schema:
            $ref: "#/definitions/CreateFileParams"
      responses:
        "200":
          description: "Success"
          schema: 
            $ref: "#/definitions/CreateResponse"
  /documents:
    get:
      tags:
      - "DMS"
      summary: "Get all folders and files"
      description: "Get all folders and files"
      operationId: "DocumentList"
      produces:
      - "application/json"
      parameters:
        - name: access-token
          in: header
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema: 
            $ref: "#/definitions/GetResponse"
definitions:
  LoginRequest:
    type: "object"
    properties:
      username:
        type: "string"
        example: "Admin"
      password: 
        type: "string"
        example: "Admin@123"
  LoginResponse:
    type: "object"
    properties:
      access-token:
        type: "string"
        example: "eyJhbGciOiJIUzI1NiIsInR5csD6IkpXVCJ9.eyJpZCI6IkFkbWluIiwifWF0IjoxGjA2MTM2OTE5fQ.HMxb_tDJrC27iRx9DJLZKSUyMe9otfgfIfdkRFVc9z8"
  CreateFileParams:
    type: "object"
    properties:
      name:
        type: "string"
        example: "test.txt"
      content: 
        type: "string"
        example: "Hello World"
      folder_id: 
        type: "string"
        example: "5fba748fd8ec200c14059643"
  CreateFolderParams:
    type: "object"
    properties:
      name:
        type: "string"
        example: "Data"
  CreateResponse: 
    type: "object"
    properties:
      data:
        type: "object"
        properties:
          message: 
            type: "string"
            example: "Folder created successfully"
  GetResponse:
    type: "object"
    properties:
      data:
        type: "array"
        items:
          $ref: "#/definitions/ResponseEntity"
  
  ResponseEntity:
    type: "object"
    properties:
      folders:
        type: "array"
        items:
          $ref: "#/definitions/FolderResponseEntity"
      files:
        type: "array"
        items:
          $ref: "#/definitions/FileResponseEntity"

  FolderResponseEntity:
    type: "object"
    properties:
      name:
        type: "string"
        example: "Data"
  FileResponseEntity:
    type: "object"
    properties:
      name:
        type: "string"
        example: "test.txt"
      content:
        type: "string"
        example: "Hello World"




  